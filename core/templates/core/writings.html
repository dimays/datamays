{% extends "core/base.html" %}
{% block title %}Writings — datamays{% endblock %}

{% block content %}
<section class="max-w-7xl mx-auto px-6 md:px-10 py-20">

  <!-- Header -->
  <header class="mb-12 max-w-3xl">
    <h1 class="text-4xl md:text-5xl font-extrabold mb-4">
        Writing
    </h1>
    <p class="text-text-secondary leading-relaxed">
      Essays, technical notes, and project write-ups on data engineering,
      systems design, and building maintainable software.
    </p>
  </header>

  <!-- Tag Filter -->
  <div class="flex flex-wrap gap-2 mb-12">
    <a href="{% url 'core:writings_list' %}"
       class="px-4 py-1 rounded-full border border-border text-sm
              {% if not active_tag %}bg-muted{% endif %}">
      All
    </a>

    {% for tag in tags %}
      <a href="{% url 'core:writings_by_tag' tag.slug %}"
         class="px-4 py-1 rounded-full border border-border text-sm
                {% if active_tag == tag.slug %}bg-muted{% endif %}">
        {{ tag.name }}
      </a>
    {% endfor %}
  </div>

  <!-- Posts -->
  <div>
    {% for post in posts %}
      <article class="bg-surface border border-border rounded-card p-6 mb-6">

        <div class="flex items-center text-sm text-text-secondary mb-2">
          <time datetime="{{ post.published_at|date:'Y-m-d' }}">
            {{ post.published_at|date:"F j, Y" }}
          </time>
          <span class="mx-2">·</span>
          <span>{{ post.reading_time }} min read</span>
        </div>

        <h2 class="text-2xl font-bold mb-2">
          <a href="{{ post.get_absolute_url }}" class="hover:underline">
            {{ post.title }}
          </a>
        </h2>

        <p class="text-text-secondary max-w-3xl mb-4">
          {{ post.summary }}
        </p>

        <div class="flex flex-wrap gap-2">
          {% for tag in post.tags.all %}
            <span class="text-xs px-2 py-1 rounded-full bg-muted text-text-secondary">
              {{ tag.name }}
            </span>
          {% endfor %}
        </div>

      </article>
    {% empty %}
      <p class="text-text-secondary">No posts yet.</p>
    {% endfor %}
  </div>

</section>
{% endblock %}
